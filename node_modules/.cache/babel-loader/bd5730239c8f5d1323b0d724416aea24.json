{"ast":null,"code":"import _toConsumableArray from\"C:/Users/olive/Uni/Projects/ifetch-chatApplication/chat_application/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/olive/Uni/Projects/ifetch-chatApplication/chat_application/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/olive/Uni/Projects/ifetch-chatApplication/chat_application/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/olive/Uni/Projects/ifetch-chatApplication/chat_application/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*global chrome*/import logo from'./logo.svg';import'./App.css';import React,{useState,useEffect}from'react';import{StyleSheet,ScrollView,SafeAreaView,StatusBar,View,Text}from'react-native';// import {useSettingsStore} from '../common/settings'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DUMMY_DATA=[{provider_id:\"user\",utterance:\"Hi!\"},{provider_id:\"iFetch\",utterance:\"Hi! My name is iFetch, how can I help you?\"}];var IMAGES_ENDPOINT=\"https://large.novasearch.org/farfetch_products/images/\";var MESSAGES_ENDPOINT=\"https://ifetch.novasearch.org/agent/\";function Recomenadation(props){var recommendations=props.message.recommendations;var hasRecommendations=false;var _useState=useState(),_useState2=_slicedToArray(_useState,2),img=_useState2[0],setImg=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var fetchImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(imageUrl){var res,imageBlob,imageObjectURL;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(imageUrl);case 2:res=_context.sent;_context.next=5;return res.blob();case 5:imageBlob=_context.sent;imageObjectURL=URL.createObjectURL(imageBlob);setImg(imageObjectURL);return _context.abrupt(\"return\",imageObjectURL);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchImage(_x){return _ref.apply(this,arguments);};}();// useEffect(() => {\n//   fetchImage(0)\n// })\n// console.log(props.message)\n// if (recommendations.length != 0) {\n//   fetchImage(recommendations[0].image_path)\n//   hasRecommendations = true\n// }\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:recommendations[0].image_path})});}function Message(props){var message=props.message;var is_user=props.message.provider_id!=\"iFetch\";var recommendations=message.recommendations;return/*#__PURE__*/_jsxs(View,{className:is_user?'message-user':'message-bot',children:[/*#__PURE__*/_jsx(View,{className:is_user?'message-content-user':'message-content-bot',children:message.utterance}),recommendations.length!=0?/*#__PURE__*/_jsx(Recomenadation,{message:message}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(View,{className:is_user?'message-timestamp-user':'message-timestamp-bot',children:message.provider_id})]});}function Messages(props){return/*#__PURE__*/_jsx(ScrollView,{contentContainerStyle:{flexGrow:1},children:props.messages.map(function(message,i){return/*#__PURE__*/_jsx(View,{children:/*#__PURE__*/_jsx(Message,{message:message})},message.provider_id+i);})});}function SendMessageForm(props){var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var handleChange=function handleChange(e){setMessage(e.target.value);// TODO: Fix this!!!\n// props.handleChange(value)\n};var handleSubmit=function handleSubmit(e){e.preventDefault();props.handleSubmit(message);setMessage(\"\");};return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"input\",{className:\"text-form\",onChange:handleChange,value:message,placeholder:\"Type your message and hit ENTER\",type:\"text\"})});}function SendMessage(_x2,_x3,_x4,_x5,_x6,_x7){return _SendMessage.apply(this,arguments);}function _SendMessage(){_SendMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(utterance,userId,sessionId,userAction,selectedId,respondeCallback){var isUpToDate,response,_args2=arguments;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:isUpToDate=_args2.length>6&&_args2[6]!==undefined?_args2[6]:false;_context2.next=3;return fetch(MESSAGES_ENDPOINT,{method:\"POST\",body:JSON.stringify({utterance:utterance,user_id:userId,// TODO: Randomize\nsession_id:sessionId,// TODO: Randomize\nuser_action:userAction,interface_selected_product_id:selectedId}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(data){console.log(data);respondeCallback(data,utterance,isUpToDate);}).catch(function(err){console.log(err.message);});case 3:response=_context2.sent;return _context2.abrupt(\"return\",response);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _SendMessage.apply(this,arguments);}function randomNumberInRange(min,max){// 👇️ get number between min (inclusive) and max (inclusive)\nreturn Math.floor(Math.random()*(max-min+1))+min;}function App(){var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),messages=_useState8[0],setMessages=_useState8[1];var _useState9=useState(\"\".concat(randomNumberInRange(0,10000))),_useState10=_slicedToArray(_useState9,2),userID=_useState10[0],setUserID=_useState10[1];var _useState11=useState(\"\".concat(randomNumberInRange(0,10000))),_useState12=_slicedToArray(_useState11,2),sessionID=_useState12[0],setSessionID=_useState12[1];var sendTestMessage=function sendTestMessage(){var message={// from: Sender.React,\nmessage:\"Hello from React\",uID:userID,sID:sessionID};var queryInfo={active:true,currentWindow:true};chrome.tabs&&chrome.tabs.query(queryInfo,function(tabs){var currentTabId=tabs[0].id;chrome.tabs.sendMessage(currentTabId,message,function(response){// setResponseFromContent(response);\nconsole.log(response);});});};var handleSubmit=function handleSubmit(message){// if (!hasResponded) return\n// console.log(settings)\nvar temp={provider_id:\"user\",utterance:message,recommendations:[]};setMessages([].concat(_toConsumableArray(messages),[temp]));SendMessage(message,userID,sessionID,\"\",\"\",recieveMessage);};var recieveMessage=function recieveMessage(message,utterance){var isUpToDate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;// if (!message.has_response) return\nvar temp1={provider_id:\"iFetch\",utterance:message.response,recommendations:message.recommendations==null?[]:message.recommendations};if(isUpToDate){setMessages([].concat(_toConsumableArray(messages),[temp1]));return;}var temp2={provider_id:\"user\",utterance:utterance,recommendations:[]};setMessages([].concat(_toConsumableArray(messages),[temp2,temp1]));// console.log(messages)\n};useEffect(function(){var response=SendMessage(\"Hi!\",userID,sessionID,\"\",\"\",recieveMessage,true);sendTestMessage();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"message-content-bot\",children:\"iFetch\"})}),/*#__PURE__*/_jsx(View,{style:styles.container,children:/*#__PURE__*/_jsx(Messages,{messages:messages})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsx(SendMessageForm,{handleSubmit:handleSubmit})})]});}var styles=StyleSheet.create({container:{// flex: 1,\n// height: 450\n}});export default App;","map":{"version":3,"names":["logo","React","useState","useEffect","StyleSheet","ScrollView","SafeAreaView","StatusBar","View","Text","DUMMY_DATA","provider_id","utterance","IMAGES_ENDPOINT","MESSAGES_ENDPOINT","Recomenadation","props","recommendations","message","hasRecommendations","img","setImg","index","setIndex","fetchImage","imageUrl","fetch","res","blob","imageBlob","imageObjectURL","URL","createObjectURL","image_path","Message","is_user","length","Messages","flexGrow","messages","map","i","SendMessageForm","setMessage","handleChange","e","target","value","handleSubmit","preventDefault","SendMessage","userId","sessionId","userAction","selectedId","respondeCallback","isUpToDate","method","body","JSON","stringify","user_id","session_id","user_action","interface_selected_product_id","headers","then","response","json","data","console","log","catch","err","randomNumberInRange","min","max","Math","floor","random","App","setMessages","userID","setUserID","sessionID","setSessionID","sendTestMessage","uID","sID","queryInfo","active","currentWindow","chrome","tabs","query","currentTabId","id","sendMessage","temp","recieveMessage","temp1","temp2","styles","container","create"],"sources":["C:/Users/olive/Uni/Projects/ifetch-chatApplication/chat_application/src/App.js"],"sourcesContent":["/*global chrome*/\nimport logo from './logo.svg'\nimport './App.css'\nimport React, { useState, useEffect } from 'react'\nimport { StyleSheet, ScrollView, SafeAreaView, StatusBar, View, Text } from 'react-native';\n// import {useSettingsStore} from '../common/settings'\n\n\nconst DUMMY_DATA = [\n  {\n    provider_id : \"user\",\n    utterance : \"Hi!\"\n  },\n  {\n    provider_id : \"iFetch\",\n    utterance : \"Hi! My name is iFetch, how can I help you?\"\n  }\n]\n\nconst IMAGES_ENDPOINT = \"https://large.novasearch.org/farfetch_products/images/\"\nconst MESSAGES_ENDPOINT = \"https://ifetch.novasearch.org/agent/\"\n\nfunction Recomenadation(props) {\n  const recommendations = props.message.recommendations\n  const hasRecommendations = false\n\n  const [img, setImg] = useState()\n  const [index, setIndex] = useState(0)\n\n  const fetchImage = async (imageUrl) => {\n    const res = await fetch(imageUrl)\n    const imageBlob = await res.blob()\n    const imageObjectURL = URL.createObjectURL(imageBlob)\n    setImg(imageObjectURL)\n    return imageObjectURL\n  }\n\n  // useEffect(() => {\n  //   fetchImage(0)\n  // })\n\n  // console.log(props.message)\n  // if (recommendations.length != 0) {\n  //   fetchImage(recommendations[0].image_path)\n  //   hasRecommendations = true\n  // }\n\n  return (\n    <div>\n      <img src={(recommendations[0].image_path)} />\n    </div>\n  )\n}\n\nfunction Message(props) {\n  var message = props.message\n  var is_user = props.message.provider_id != \"iFetch\"\n  var recommendations = message.recommendations\n\n  return (\n    <View className={is_user ? 'message-user' : 'message-bot'}>\n      <View className={is_user ? 'message-content-user' : 'message-content-bot'}>\n        {message.utterance}\n      </View>\n      {recommendations.length != 0 ? <Recomenadation message = {message}/> : <></>}\n      <View className={is_user ? 'message-timestamp-user' : 'message-timestamp-bot'}>\n        {message.provider_id}\n      </View>\n    </View>\n  )\n}\n\nfunction Messages(props) {\n  return (\n    <ScrollView contentContainerStyle={{ flexGrow: 1 }}>                 \n      {props.messages.map((message, i) => {\n        return (\n          <View key={message.provider_id + i}>\n            <Message message={message}/>\n          </View>\n        )\n      })}\n    </ScrollView>\n  )\n}\n\nfunction SendMessageForm (props) {\n  const [message, setMessage] = useState(\"\")\n  \n  var handleChange = (e) => {\n    setMessage(e.target.value) // TODO: Fix this!!!\n    // props.handleChange(value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleSubmit(message)\n    setMessage(\"\")\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit}>\n      <input\n        className='text-form'\n        onChange={handleChange}\n        value={message}\n        placeholder=\"Type your message and hit ENTER\"\n        type=\"text\"/>\n    </form>\n  )\n}\n\nasync function SendMessage (\n  utterance, userId, sessionId,\n  userAction, selectedId, \n  respondeCallback, isUpToDate=false) {\n\n  const response = await fetch(MESSAGES_ENDPOINT, {\n    method: \"POST\",\n    body: JSON.stringify({\n      utterance : utterance,\n      user_id : userId, // TODO: Randomize\n      session_id: sessionId, // TODO: Randomize\n      user_action: userAction,\n      interface_selected_product_id: selectedId \n    }),\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    }).then((response) => response.json())\n    .then((data) => {\n      console.log(data)\n      respondeCallback(data, utterance, isUpToDate)\n    })\n    .catch((err) => {\n      console.log(err.message)\n    })\n\n    return response\n}\n\nfunction randomNumberInRange(min, max) {\n  // 👇️ get number between min (inclusive) and max (inclusive)\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction App() {\n  const [messages, setMessages] = useState([])\n  const [userID, setUserID] = useState(`${randomNumberInRange(0, 10000)}`)\n  const [sessionID, setSessionID] = useState(`${randomNumberInRange(0, 10000)}`)\n\n  const sendTestMessage = () => {\n    const message = {\n        // from: Sender.React,\n        message: \"Hello from React\",\n        uID: userID,\n        sID: sessionID\n    }\n\n    const queryInfo = {\n        active: true,\n        currentWindow: true\n    };\n\n    chrome.tabs && chrome.tabs.query(queryInfo, tabs => {\n        const currentTabId = tabs[0].id;\n        chrome.tabs.sendMessage(\n            currentTabId,\n            message,\n            (response) => {\n                // setResponseFromContent(response);\n                console.log(response)\n            });\n      });\n  };\n\n  const handleSubmit = (message) => {\n    // if (!hasResponded) return\n    // console.log(settings)\n    const temp = {\n      provider_id : \"user\",\n      utterance : message,\n      recommendations : []\n    }\n\n    setMessages([...messages, temp])\n    SendMessage(message, userID, sessionID, \"\", \"\", recieveMessage)\n  }\n\n  const recieveMessage = (message, utterance, isUpToDate=false) => {\n    // if (!message.has_response) return\n    \n    const temp1 = {\n      provider_id : \"iFetch\",\n      utterance : message.response,\n      recommendations : message.recommendations == null ? [] : message.recommendations\n    }\n\n    if (isUpToDate) {\n      setMessages([...messages, temp1])\n      return\n    }\n\n    const temp2 = {\n      provider_id : \"user\",\n      utterance : utterance,\n      recommendations : []\n    }\n\n    setMessages([...messages, temp2, temp1])\n    // console.log(messages)\n  }\n\n  useEffect(() => {\n    const response = SendMessage(\"Hi!\", userID, sessionID, \"\", \"\", recieveMessage, true)\n    sendTestMessage()\n  }, [])\n\n  return (\n    <div className='chat-container'>\n      <div className='title-container'>\n        <h1 className='message-content-bot'>iFetch</h1>\n      </div>\n      <View style={styles.container}>\n        <Messages messages={messages}></Messages>\n      </View>\n      <div className='form-container'>\n        <SendMessageForm handleSubmit = {handleSubmit}/>\n      </div>\n    </div>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    // flex: 1,\n    // height: 450\n  }\n});\n\nexport default App;\n"],"mappings":"4nBAAA,iBACA,MAAOA,KAAI,KAAM,YAAY,CAC7B,MAAO,WAAW,CAClB,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,CAAEC,UAAU,CAAEC,YAAY,CAAEC,SAAS,CAAEC,IAAI,CAAEC,IAAI,KAAQ,cAAc,CAC1F;AAAA,6IAGA,GAAMC,WAAU,CAAG,CACjB,CACEC,WAAW,CAAG,MAAM,CACpBC,SAAS,CAAG,KACd,CAAC,CACD,CACED,WAAW,CAAG,QAAQ,CACtBC,SAAS,CAAG,4CACd,CAAC,CACF,CAED,GAAMC,gBAAe,CAAG,wDAAwD,CAChF,GAAMC,kBAAiB,CAAG,sCAAsC,CAEhE,QAASC,eAAc,CAACC,KAAK,CAAE,CAC7B,GAAMC,gBAAe,CAAGD,KAAK,CAACE,OAAO,CAACD,eAAe,CACrD,GAAME,mBAAkB,CAAG,KAAK,CAEhC,cAAsBjB,QAAQ,EAAE,wCAAzBkB,GAAG,eAAEC,MAAM,eAClB,eAA0BnB,QAAQ,CAAC,CAAC,CAAC,yCAA9BoB,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,WAAU,4FAAG,iBAAOC,QAAQ,2KACdC,MAAK,CAACD,QAAQ,CAAC,QAA3BE,GAAG,qCACeA,IAAG,CAACC,IAAI,EAAE,QAA5BC,SAAS,eACTC,cAAc,CAAGC,GAAG,CAACC,eAAe,CAACH,SAAS,CAAC,CACrDR,MAAM,CAACS,cAAc,CAAC,iCACfA,cAAc,wDACtB,kBANKN,WAAU,4CAMf,CAED;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,mBACE,kCACE,YAAK,GAAG,CAAGP,eAAe,CAAC,CAAC,CAAC,CAACgB,UAAY,EAAG,EACzC,CAEV,CAEA,QAASC,QAAO,CAAClB,KAAK,CAAE,CACtB,GAAIE,QAAO,CAAGF,KAAK,CAACE,OAAO,CAC3B,GAAIiB,QAAO,CAAGnB,KAAK,CAACE,OAAO,CAACP,WAAW,EAAI,QAAQ,CACnD,GAAIM,gBAAe,CAAGC,OAAO,CAACD,eAAe,CAE7C,mBACE,MAAC,IAAI,EAAC,SAAS,CAAEkB,OAAO,CAAG,cAAc,CAAG,aAAc,wBACxD,KAAC,IAAI,EAAC,SAAS,CAAEA,OAAO,CAAG,sBAAsB,CAAG,qBAAsB,UACvEjB,OAAO,CAACN,SAAS,EACb,CACNK,eAAe,CAACmB,MAAM,EAAI,CAAC,cAAG,KAAC,cAAc,EAAC,OAAO,CAAIlB,OAAQ,EAAE,cAAG,kBAAK,cAC5E,KAAC,IAAI,EAAC,SAAS,CAAEiB,OAAO,CAAG,wBAAwB,CAAG,uBAAwB,UAC3EjB,OAAO,CAACP,WAAW,EACf,GACF,CAEX,CAEA,QAAS0B,SAAQ,CAACrB,KAAK,CAAE,CACvB,mBACE,KAAC,UAAU,EAAC,qBAAqB,CAAE,CAAEsB,QAAQ,CAAE,CAAE,CAAE,UAChDtB,KAAK,CAACuB,QAAQ,CAACC,GAAG,CAAC,SAACtB,OAAO,CAAEuB,CAAC,CAAK,CAClC,mBACE,KAAC,IAAI,wBACH,KAAC,OAAO,EAAC,OAAO,CAAEvB,OAAQ,EAAE,EADnBA,OAAO,CAACP,WAAW,CAAG8B,CAAC,CAE3B,CAEX,CAAC,CAAC,EACS,CAEjB,CAEA,QAASC,gBAAe,CAAE1B,KAAK,CAAE,CAC/B,eAA8Bd,QAAQ,CAAC,EAAE,CAAC,yCAAnCgB,OAAO,eAAEyB,UAAU,eAE1B,GAAIC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACxBF,UAAU,CAACE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC;AAC3B;AACF,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIH,CAAC,CAAK,CAC1BA,CAAC,CAACI,cAAc,EAAE,CAClBjC,KAAK,CAACgC,YAAY,CAAC9B,OAAO,CAAC,CAC3ByB,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACE,aACE,QAAQ,CAAEK,YAAa,uBACvB,cACE,SAAS,CAAC,WAAW,CACrB,QAAQ,CAAEJ,YAAa,CACvB,KAAK,CAAE1B,OAAQ,CACf,WAAW,CAAC,iCAAiC,CAC7C,IAAI,CAAC,MAAM,EAAE,EACV,CAEX,CAAC,QAEcgC,YAAW,oKAA1B,kBACEtC,SAAS,CAAEuC,MAAM,CAAEC,SAAS,CAC5BC,UAAU,CAAEC,UAAU,CACtBC,gBAAgB,iKAAEC,UAAU,kDAAC,KAAK,wBAEX9B,MAAK,CAACZ,iBAAiB,CAAE,CAC9C2C,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBhD,SAAS,CAAGA,SAAS,CACrBiD,OAAO,CAAGV,MAAM,CAAE;AAClBW,UAAU,CAAEV,SAAS,CAAE;AACvBW,WAAW,CAAEV,UAAU,CACvBW,6BAA6B,CAAEV,UACjC,CAAC,CAAC,CACFW,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACA,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACrCF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBd,gBAAgB,CAACc,IAAI,CAAEzD,SAAS,CAAE4C,UAAU,CAAC,CAC/C,CAAC,CAAC,CACDgB,KAAK,CAAC,SAACC,GAAG,CAAK,CACdH,OAAO,CAACC,GAAG,CAACE,GAAG,CAACvD,OAAO,CAAC,CAC1B,CAAC,CAAC,QAnBEiD,QAAQ,iDAqBLA,QAAQ,0DAClB,8CAED,QAASO,oBAAmB,CAACC,GAAG,CAAEC,GAAG,CAAE,CACrC;AACA,MAAOC,KAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,EAAIH,GAAG,CAAGD,GAAG,CAAG,CAAC,CAAC,CAAC,CAAGA,GAAG,CAC1D,CAEA,QAASK,IAAG,EAAG,CACb,eAAgC9E,QAAQ,CAAC,EAAE,CAAC,yCAArCqC,QAAQ,eAAE0C,WAAW,eAC5B,eAA4B/E,QAAQ,WAAIwE,mBAAmB,CAAC,CAAC,CAAE,KAAK,CAAC,EAAG,0CAAjEQ,MAAM,gBAAEC,SAAS,gBACxB,gBAAkCjF,QAAQ,WAAIwE,mBAAmB,CAAC,CAAC,CAAE,KAAK,CAAC,EAAG,2CAAvEU,SAAS,gBAAEC,YAAY,gBAE9B,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5B,GAAMpE,QAAO,CAAG,CACZ;AACAA,OAAO,CAAE,kBAAkB,CAC3BqE,GAAG,CAAEL,MAAM,CACXM,GAAG,CAAEJ,SACT,CAAC,CAED,GAAMK,UAAS,CAAG,CACdC,MAAM,CAAE,IAAI,CACZC,aAAa,CAAE,IACnB,CAAC,CAEDC,MAAM,CAACC,IAAI,EAAID,MAAM,CAACC,IAAI,CAACC,KAAK,CAACL,SAAS,CAAE,SAAAI,IAAI,CAAI,CAChD,GAAME,aAAY,CAAGF,IAAI,CAAC,CAAC,CAAC,CAACG,EAAE,CAC/BJ,MAAM,CAACC,IAAI,CAACI,WAAW,CACnBF,YAAY,CACZ7E,OAAO,CACP,SAACiD,QAAQ,CAAK,CACV;AACAG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC,CACzB,CAAC,CAAC,CACR,CAAC,CAAC,CACN,CAAC,CAED,GAAMnB,aAAY,CAAG,QAAfA,aAAY,CAAI9B,OAAO,CAAK,CAChC;AACA;AACA,GAAMgF,KAAI,CAAG,CACXvF,WAAW,CAAG,MAAM,CACpBC,SAAS,CAAGM,OAAO,CACnBD,eAAe,CAAG,EACpB,CAAC,CAEDgE,WAAW,8BAAK1C,QAAQ,GAAE2D,IAAI,GAAE,CAChChD,WAAW,CAAChC,OAAO,CAAEgE,MAAM,CAAEE,SAAS,CAAE,EAAE,CAAE,EAAE,CAAEe,cAAc,CAAC,CACjE,CAAC,CAED,GAAMA,eAAc,CAAG,QAAjBA,eAAc,CAAIjF,OAAO,CAAEN,SAAS,CAAuB,IAArB4C,WAAU,2DAAC,KAAK,CAC1D;AAEA,GAAM4C,MAAK,CAAG,CACZzF,WAAW,CAAG,QAAQ,CACtBC,SAAS,CAAGM,OAAO,CAACiD,QAAQ,CAC5BlD,eAAe,CAAGC,OAAO,CAACD,eAAe,EAAI,IAAI,CAAG,EAAE,CAAGC,OAAO,CAACD,eACnE,CAAC,CAED,GAAIuC,UAAU,CAAE,CACdyB,WAAW,8BAAK1C,QAAQ,GAAE6D,KAAK,GAAE,CACjC,OACF,CAEA,GAAMC,MAAK,CAAG,CACZ1F,WAAW,CAAG,MAAM,CACpBC,SAAS,CAAGA,SAAS,CACrBK,eAAe,CAAG,EACpB,CAAC,CAEDgE,WAAW,8BAAK1C,QAAQ,GAAE8D,KAAK,CAAED,KAAK,GAAE,CACxC;AACF,CAAC,CAEDjG,SAAS,CAAC,UAAM,CACd,GAAMgE,SAAQ,CAAGjB,WAAW,CAAC,KAAK,CAAEgC,MAAM,CAAEE,SAAS,CAAE,EAAE,CAAE,EAAE,CAAEe,cAAc,CAAE,IAAI,CAAC,CACpFb,eAAe,EAAE,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,YAAK,SAAS,CAAC,iBAAiB,uBAC9B,WAAI,SAAS,CAAC,qBAAqB,oBAAY,EAC3C,cACN,KAAC,IAAI,EAAC,KAAK,CAAEgB,MAAM,CAACC,SAAU,uBAC5B,KAAC,QAAQ,EAAC,QAAQ,CAAEhE,QAAS,EAAY,EACpC,cACP,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,KAAC,eAAe,EAAC,YAAY,CAAIS,YAAa,EAAE,EAC5C,GACF,CAEV,CAEA,GAAMsD,OAAM,CAAGlG,UAAU,CAACoG,MAAM,CAAC,CAC/BD,SAAS,CAAE,CACT;AACA;AACF,CACF,CAAC,CAAC,CAEF,cAAevB,IAAG"},"metadata":{},"sourceType":"module"}